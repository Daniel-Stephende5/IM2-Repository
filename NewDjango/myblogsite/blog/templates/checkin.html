{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="{% static 'main.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'checkin.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'navbar.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'checkin_up.css' %}">
 
    <title>Airline Check-In</title>
 
</head>
<body>
    <nav>
        <a href="{% url 'home' %}">Home</a>
        <a href="{% url 'flights' %}">View Flights</a>
        <a href="{% url 'info' %}">Information</a>
        <a href="{% url 'checkin' %}" style="color: #000">Check In</a>
        <a href="{% url 'booking' %}">Booking</a>
        <a href="{% url 'contact' %}">Customer Support</a>
        <a href="{% url 'signup' %}">Sign up</a>
        <a href="{% url 'login' %}">Login</a>
        <a href="{% url 'logout' %}">Logout</a>
    </nav>
 
    <!-- Check-In Section -->
    <div class="checkin-header">
        <h1>Airline Check-In</h1>
    </div>
    <div class="holder">
        <form action="/checkin" method="post">
            <div class="form-group">
                <label for="bookingReference">Booking Reference</label>
                <input type="text" id="bookingReference" name="bookingReference" required>
            </div>
            <div class="form-group">
                <label for="lastName">Last Name</label>
                <input type="text" id="lastName" name="lastName" required>
            </div>
            <button type="submit" class="checkin-btn">Check In</button>
        </form>
    </div>
 
    <!-- Feedback Form Section -->
    <div class="feedback-header">
        <h1>Feedback Form</h1>
    </div>
    <div class="container">
        <form id="feedback-form" action="" method="POST">
            <h2 style="text-align: center; color: #333">Share Your Feedback</h2>
            <div class="error" id="error-message">Please fill in all fields.</div>
            <div class="feedback-form-group">
                <label for="name">Name</label>
                <input type="text" id="name" name="name" placeholder="Enter your name" required>
            </div>
            <div class="feedback-form-group">
                <label for="email">Email Address</label>
                <input type="email" id="email" name="email" placeholder="Enter your email" required>
            </div>
            <div class="feedback-form-group">
                <label for="rating">Rating</label>
                <div id="rating">
                    <span class="star" data-value="1">&#9733;</span>
                    <span class="star" data-value="2">&#9733;</span>
                    <span class="star" data-value="3">&#9733;</span>
                    <span class="star" data-value="4">&#9733;</span>
                    <span class="star" data-value="5">&#9733;</span>
                </div>
                <input type="hidden" id="rating-value" name="rating" value="0">
            </div>
            <div class="feedback-form-group">
                <label for="comments">Comments</label>
                <textarea id="comments" name="comments" rows="4" placeholder="Add your comments..."></textarea>
            </div>
            <button type="button" class="submit-btn" id="submit-btn">Submit</button>
            <div class="success" id="success-message">Feedback sent successfully!</div>
        </form>
    </div>
 
    <script>
        // JavaScript for rating and form submission
        const stars = document.querySelectorAll(".star");
        const ratingValue = document.getElementById("rating-value");
        const errorMessage = document.getElementById("error-message");
        const successMessage = document.getElementById("success-message");
        const submitBtn = document.getElementById("submit-btn");
 
        stars.forEach(star => {
            star.addEventListener("mouseover", () => {
                stars.forEach(s => s.classList.remove("hover"));
                star.classList.add("hover");
                let previousStar = star.previousElementSibling;
                while (previousStar) {
                    previousStar.classList.add("hover");
                    previousStar = previousStar.previousElementSibling;
                }
            });
            star.addEventListener("mouseout", () => stars.forEach(s => s.classList.remove("hover")));
            star.addEventListener("click", () => {
                stars.forEach(s => s.classList.remove("selected"));
                star.classList.add("selected");
                let previousStar = star.previousElementSibling;
                while (previousStar) {
                    previousStar.classList.add("selected");
                    previousStar = previousStar.previousElementSibling;
                }
                ratingValue.value = star.dataset.value;
            });
        });
 
        submitBtn.addEventListener("click", () => {
            const name = document.getElementById("name").value;
            const email = document.getElementById("email").value;
            const rating = ratingValue.value;
            const comments = document.getElementById("comments").value;
 
            if (!name || !email || rating === "0" || !comments) {
                errorMessage.style.display = "block";
                successMessage.style.display = "none";
            } else {
                errorMessage.style.display = "none";
                successMessage.style.display = "block";
                document.getElementById("feedback-form").reset();
                stars.forEach(s => s.classList.remove("selected"));
                ratingValue.value = "0";
            }
        });
    </script>
 
    <footer>
        <p>&copy; 2024 Airline Company. All rights reserved.</p>
    </footer>
</body>
</html>